{% extends "base.html" %}
{% block title %}Edit Medicine - Medicine Reminder{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <div class="card">
            <div class="card-header">
                <h4 class="text-center">Edit Medicine</h4>
            </div>
            <div class="card-body">
                <form method="POST" action="{{ url_for('edit_medicine', medicine_id=medicine.id) }}">
                    <div class="mb-3">
                        <label for="name" class="form-label">Medicine Name *</label>
                        <input type="text" class="form-control" id="name" name="name" 
                               value="{{ medicine.name }}" required>
                    </div>
                    
                    <div class="mb-3">
                        <label for="dosage" class="form-label">Dosage (e.g., 1 tablet, 5ml)</label>
                        <input type="text" class="form-control" id="dosage" name="dosage" 
                               value="{{ medicine.dosage or '' }}">
                    </div>
                    
                    <div class="mb-3">
                        <label for="time" class="form-label">Time to Take (Philippine Time) *</label>
                        <input type="time" class="form-control" id="time" name="time" 
                               value="{{ medicine.time.strftime('%H:%M') }}" required>
                        <small class="text-muted">Enter time in 24-hour format (e.g., 22:00 for 10:00 PM)</small>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Days to Take *</label>
                        <div class="form-check">
                            {% set medicine_days = medicine.days.split(',') if medicine.days else [] %}
                            {% for day in days %}
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" 
                                       id="day-{{ day }}" name="days" value="{{ day }}"
                                       {% if day in medicine_days %}checked{% endif %}>
                                <label class="form-check-label" for="day-{{ day }}">{{ day }}</label>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary">Update Medicine</button>
                        <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
